<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="420" viewBox="0 0 900 420">
  <style>
    .box { fill:#f8f9fb; stroke:#2d6cdf; stroke-width:2; rx:8; }
    .title { font: bold 14px sans-serif; fill:#0b2a66; }
    .text { font: 12px sans-serif; fill:#0b2a66; }
    .arrow { stroke:#0b2a66; stroke-width:2; fill:none; marker-end: url(#arrowhead); }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0b2a66" />
    </marker>
  </defs>

  <!-- Browser -->
  <rect x="30" y="30" width="200" height="70" class="box"/>
  <text x="40" y="50" class="title">Browser</text>
  <text x="40" y="70" class="text">Index UI / Buttons</text>
  <text x="40" y="88" class="text">GET /log_event/:type</text>

  <!-- Flask -->
  <rect x="320" y="20" width="260" height="110" class="box"/>
  <text x="330" y="45" class="title">Flask App (app.py)</text>
  <text x="330" y="68" class="text">Routes: /, /log_event, /trend, /export</text>
  <text x="330" y="88" class="text">log_event() â€¢ play_sound()</text>

  <!-- CSV Storage -->
  <rect x="320" y="160" width="200" height="70" class="box"/>
  <text x="330" y="185" class="title">event_log.csv</text>
  <text x="330" y="205" class="text">timestamp, event_type rows</text>

  <!-- Sound -->
  <rect x="640" y="30" width="200" height="70" class="box"/>
  <text x="650" y="50" class="title">Sound Player</text>
  <text x="650" y="72" class="text">plays sounds/alert.mp3</text>

  <!-- Trend / Charts -->
  <rect x="640" y="160" width="200" height="90" class="box"/>
  <text x="650" y="185" class="title">Trends & Export</text>
  <text x="650" y="205" class="text">/trend uses matplotlib to make chart</text>
  <text x="650" y="225" class="text">/export returns grouped CSV</text>

  <!-- Arrows -->
  <path d="M230 65 L320 65" class="arrow" />
  <text x="250" y="55" class="text">HTTP Request</text>

  <path d="M580 65 L640 65" class="arrow" />
  <text x="590" y="55" class="text">play_sound()</text>

  <path d="M390 130 L390 160" class="arrow" />
  <text x="360" y="140" class="text">append row</text>

  <path d="M460 195 L640 195" class="arrow" />
  <text x="520" y="185" class="text">read CSV for trends</text>

  <path d="M740 115 L740 160" class="arrow" />
  <text x="705" y="130" class="text">chart image (base64)</text>

  <!-- Legend / Notes -->
  <rect x="20" y="240" width="860" height="160" fill="#ffffff" stroke="none"/>
  <text x="40" y="265" class="title">Notes</text>
  <text x="40" y="285" class="text">- CSV is the single source of event truth. Consider a DB for concurrency and performance.</text>
  <text x="40" y="305" class="text">- play_sound() uses system players (paplay/mpg123). On servers disable audio.</text>
  <text x="40" y="325" class="text">- /trend generates a PNG via matplotlib and returns it in the template.</text>
  <text x="40" y="345" class="text">- The repository currently contains a local virtualenv folder; add to .gitignore to avoid committing it.</text>
</svg>